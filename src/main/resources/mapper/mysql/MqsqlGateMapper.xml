<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.tricycle.gate.mapper.mysql.MysqlGateMapper">
    
    <insert id="insertPartnerConnCount" parameterType="java.util.Map">
        INSERT INTO ecomms.tsy_partner_conn (
            partner_id
            ,site_cd
            ,device_cd
            ,client_ip
            ,user_agent
            ,referrer_url
            ,pcid
            ,uid
            ,url_parameter
        ) VALUES (
            #{partnerId}
            ,#{siteCd}
            ,#{deviceCd}
            ,#{clientIp}
            ,#{userAgent}
            ,#{refererUrl}
            ,#{pcid}
            ,#{uid}
            ,#{urlParameter}
        )
    </insert>

    <select id="getGateMappingTables" resultType="java.util.Map">
        SELECT *
        FROM ecomms.tmk_gate_mapping
    </select>

    <select id="getPartnerIdDetail" parameterType="java.lang.String" resultType="java.util.Map">
        SELECT *
        FROM ecomms.t_partnercommi partner
        WHERE partner.partnerid = #{partnerId}
    </select>
</mapper>